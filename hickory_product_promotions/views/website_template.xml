<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="website_sale.checkout">
        <t t-call="website.layout">
            <t t-set="additional_title">Shop - Checkout</t>
            <t t-set="no_footer">1</t>
            <div id="wrap">
                <div class="container oe_website_sale py-2">
                    <t t-set="same_shipping" t-value="bool(order.partner_shipping_id==order.partner_id or only_services)" />
                    <div class="row">
                        <div class="col-12">
                            <t t-call="website_sale.wizard_checkout">
                                <t t-set="step" t-value="20" />
                            </t>
                        </div>
                        <div class="col-12 col-xl-auto order-xl-2 d-none d-xl-block">
                            <t t-call="website_sale.cart_summary"/>
                        </div>
                        <div class="col-12 col-xl order-xl-1 oe_cart">
                            <div class="row">
                                <div class="col-lg-12">
                                    <h3 class="o_page_header mt8">Billing Address</h3>
                                </div>
                                <div class="col-lg-6 one_kanban">
                                    <t t-call="website_sale.address_kanban">
                                        <t t-set='contact' t-value="order.partner_id"/>
                                        <t t-set='selected' t-value="1"/>
                                        <t t-set='readonly' t-value="1"/>
                                    </t>
                                </div>
                            </div>
<!--                            <t t-if="not only_services" groups="sale.group_delivery_invoice_address">-->
<!--                                <div class="row">-->
<!--                                    <div class="col-lg-12">-->
<!--                                        <h3 class="o_page_header mt16 mb4">Shipping Address</h3>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="row all_shipping">-->
<!--                                    <div class="col-lg-12">-->
<!--                                        <div class="row mt8">-->
<!--                                            <div class="col-md-12 col-lg-12 one_kanban">-->
<!--                                                <form action="/shop/address" method="post" class=''>-->
<!--                                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()" />-->
<!--                                                    <a role="button" href="#" class='a-submit btn btn-secondary mb16 btn-block'>-->
<!--                                                        <i class="fa fa-plus-square"/>-->
<!--                                                        <span>Add an address</span>-->
<!--                                                    </a>-->
<!--                                                </form>-->
<!--                                            </div>-->
<!--                                            <t t-foreach="shippings" t-as="ship">-->
<!--                                                <div class="col-md-12 col-lg-6 one_kanban">-->
<!--                                                    <t t-call="website_sale.address_kanban">-->
<!--                                                        <t t-set="actual_partner" t-value="order.partner_id" />-->
<!--                                                        <t t-set='contact' t-value="ship"/>-->
<!--                                                        <t t-set='selected' t-value="order.partner_shipping_id==ship"/>-->
<!--                                                        <t t-set='readonly' t-value="bool(len(shippings)==1)"/>-->
<!--                                                        <t t-set='edit_billing' t-value="bool(ship==order.partner_id)"/>-->
<!--                                                    </t>-->
<!--                                                </div>-->
<!--                                            </t>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </t>-->
                            <div class="d-flex justify-content-between mt-3">
                                <a role="button" href="/shop/cart" class="btn btn-secondary mb32">
                                    <i class="fa fa-chevron-left"/>
                                    <span>Return to Cart</span>
                                </a>
                                <a role="button" href="/shop/confirm_order" class="btn btn-primary mb32">
                                    <span>Confirm</span>
                                    <i class="fa fa-chevron-right"/>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>


    <template id="products_pager" inherit_id="website_sale.products" name="Product search bar">
        <xpath expr="//div[hasclass('products_pager')]" position="attributes">
            <!--        <xpath expr="//div[@class='products_pager']" position="attributes">-->
            <attribute name="style">display:none;</attribute>
        </xpath>
    </template>

    <template id="product_page_inherit" inherit_id="website_sale.product" name="Product website page">
        <xpath expr="//section/div/div/p[@class='text-muted']" position="replace"/>
    </template>

<!--    <template id="address_page_inherit" inherit_id="website_sale.address" name="Address Management">-->
<!--        <xpath expr="//div[@class='checkbox']" position="replace">-->
<!--            <div class="checkbox">-->
<!--                <label>-->
<!--                    <input type="checkbox" id='shipping_use_same' class="mr8" name='use_same' value="1"-->
<!--                           checked='checked' disabled="disabled"/>Ship to the same address-->
<!--                    <span class='ship_to_other text-muted' style="display: none">&amp;nbsp;(-->
<!--                        <i>Your shipping address will be requested later)</i>-->
<!--                    </span>-->
<!--                </label>-->
<!--            </div>-->
<!--        </xpath>-->
<!--    </template>-->


    <template id="assets_frontend" inherit_id="website.assets_frontend" name="select_assets">
        <xpath expr="." position="inside">
            <link rel="stylesheet" href="/hickory_product_promotions/static/src/css/select.css"/>
        </xpath>
    </template>


    <!-- ASSETS FRONTEND WEBSITE SALE -->
    <template id="assets_frontend" inherit_id="website_sale.assets_frontend">
        <xpath expr="." position="inside">
            <script type="text/javascript" src="/hickory_product_promotions/static/src/js/website_filter.js"></script>
        </xpath>
    </template>


    <template id="variants_inherit_website_sale_extension" inherit_id="website_sale.product_variants">
        <xpath expr="//select[1]//option[1]" position="attributes">
            <attribute name="t-att-selected">value_id.id in attrib_set</attribute>
        </xpath>

<!--        <xpath expr="//ul[@t-att-data-attribute_value_ids='json.dumps(attribute_value_ids)']/t[1]" position="attributes">-->
<!--            <attribute name="t-foreach">product.attribute_line_ids.sorted(key=lambda x: x.sequence)</attribute>-->
<!--        </xpath>-->
    </template>


    <template id="products_attributes_hickory" inherit_id="website_sale.products_attributes" name="Product Attribute's Filters hickory">
        <xpath expr="//form/ul/t/li" position="attributes">
            <attribute name="t-if">a.value_ids and len(a.value_ids) &gt; 1 and a.is_show_website</attribute>
        </xpath>
        <xpath expr="//form/ul/t/li/t" position="attributes">
            <attribute name="t-if">a.type == 'select' and a.is_show_website</attribute>
        </xpath>
    </template>




<!--    <template id="products_attributes" inherit_id="website_sale.products_attributes" name="Product Attribute's Filters">-->
<!--        <xpath expr="//form[hasclass('js_attributes')]" position="replace">-->
<!--            <form class="js_attributes" method="get">-->
<!--                <input type="hidden" name="search" t-att-value="search"/>-->
<!--                <table class="table table-condensed table-bordered" style="border-color:white;">-->
<!--                    <t t-foreach="main" t-as="main_chunk">-->
<!--                        <tr t-if="main_chunk">-->
<!--                            <t t-if="main_chunk.get('header')" t-foreach="main_chunk.get('header')" t-as="main_attrib">-->
<!--                                <td class="header_attr" colspan="2" >-->
<!--                                    <li t-if="main_attrib.value_ids and len(main_attrib.value_ids) &gt; 1"-->
<!--                                        style="list-style: none;">-->
<!--                                        <t t-if="main_attrib.type == 'select' and main_attrib.is_show_website">-->
<!--                                            <select class="form-control" name="attrib" t-att-title="main_attrib.name">-->
<!--                                                <option value="" class="disabled_select" style="display:none;">-->
<!--                                                    <span t-esc="main_attrib.name"></span>-->
<!--                                                </option>-->
<!--                                                <option value=""/>-->
<!--                                                <t t-foreach="main_attrib.value_ids" t-as="v">-->
<!--                                                    <option t-att-value="'%s-%s' % (main_attrib.id,v.id)" t-esc="v.name"-->
<!--                                                            t-att-selected="v.id in attrib_set"/>-->
<!--                                                </t>-->
<!--                                            </select>-->
<!--                                        </t>-->

<!--                                    </li>-->

<!--                                </td>-->
<!--                            </t>-->


<!--                        </tr>-->

<!--                        <tr>-->
<!--                            <td style="border:none;"><div style="margin-top:10px;margin-bottom:10px"></div></td>-->
<!--                        </tr>-->

<!--                        <tr>-->
<!--                            <t t-if="main_chunk.get('sub')" t-foreach="main_chunk.get('sub')" t-as="sub_attrib">-->
<!--                                <td>-->
<!--                                    <li t-if="sub_attrib.value_ids and len(sub_attrib.value_ids) &gt; 1"-->
<!--                                        style="list-style: none;">-->
<!--                                        <t t-if="sub_attrib.type == 'select' and sub_attrib.is_show_website">-->
<!--                                            <select class="form-control" style="padding: 6px 2px;" name="attrib" t-att-title="sub_attrib.name">-->
<!--                                                <option value="" class="disabled_select" style="display:none;">-->
<!--                                                    <span t-esc="sub_attrib.name"></span>-->
<!--                                                </option>-->
<!--                                                <option value=""/>-->
<!--                                                <t t-foreach="sub_attrib.value_ids" t-as="v">-->
<!--                                                    <option t-att-value="'%s-%s' % (sub_attrib.id,v.id)" t-esc="v.name"-->
<!--                                                            t-att-selected="v.id in attrib_set"/>-->
<!--                                                </t>-->
<!--                                            </select>-->
<!--                                        </t>-->

<!--                                    </li>-->

<!--                                </td>-->
<!--                            </t>-->
<!--                        </tr>-->
<!--                    </t>-->

<!--                </table>-->
<!--                <ul class="nav nav-pills nav-stacked mt16">-->
<!--                    <t t-foreach="attributes" t-as="a">-->
<!--                        <li t-if="a.value_ids and len(a.value_ids) &gt; 1">-->
<!--                            <div t-if="a.type != 'select'">-->
<!--                                <strong t-if="a.is_show_website" t-field="a.name"/>-->
<!--                            </div>-->
<!--                            <t t-if="a.type == 'radio' and a.is_show_website">-->
<!--                                <ul class="nav nav-pills nav-stacked">-->
<!--                                    <t t-foreach="a.value_ids" t-as="v">-->
<!--                                        <li t-att-class="'active' if v.id in attrib_set else None">-->
<!--                                            <label style="margin: 0 20px;">-->
<!--                                                <input type="checkbox" name="attrib" t-att-value="'%s-%s' % (a.id,v.id)"-->
<!--                                                       t-att-checked="'checked' if v.id in attrib_set else None"/>-->
<!--                                                <span style="font-weight: normal" t-field="v.name"/>-->
<!--                                            </label>-->
<!--                                        </li>-->
<!--                                    </t>-->
<!--                                </ul>-->
<!--                            </t>-->
<!--                            <t t-if="a.type == 'color' and a.is_show_website">-->
<!--                                <t t-foreach="a.value_ids" t-as="v">-->
<!--                                    <label t-attf-style="background-color:#{v.html_color or v.name}"-->
<!--                                           t-attf-class="css_attribute_color #{'active' if v.id in attrib_set else ''}">-->
<!--                                        <input type="checkbox" name="attrib" t-att-value="'%s-%s' % (a.id,v.id)"-->
<!--                                               t-att-checked="'checked' if v.id in attrib_set else None"-->
<!--                                               t-att-title="v.name"/>-->
<!--                                    </label>-->
<!--                                </t>-->
<!--                            </t>-->
<!--                        </li>-->
<!--                    </t>-->
<!--                </ul>-->
<!--            </form>-->
<!--        </xpath>-->
<!--    </template>-->


</odoo>
